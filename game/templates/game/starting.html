{% extends 'game/_base.html' %}

{% load i18n %}

{% block wrapper %}
<script>

    var rec = [];
    {% for galaxy in galaxies %}rec[{{ galaxy.id }}] = {{ galaxy.recommendation }};{% endfor %}
    
    function showRecommendation(obj) {
        
    	var r = rec[obj.options[obj.selectedIndex].value];
    	if (r == 2) {
    		$("recommendation").innerHTML = '{% trans "Galaxie recommandée" %}';
    		$("recommendation").className = 'c-success';
    	}
    	else
    	if (r == 1) {
    		$("recommendation").innerHTML = '';
    		$("recommendation").className = '';
    	}
    	else {
    		$("recommendation").innerHTML = '{% trans "Galaxie non recommandée" %}';
    		$("recommendation").className = 'c-danger';
    	}
    }
    
    function displayOrientation(obj) {
        
    	var opt = obj.options[obj.selectedIndex].value;
    	if (opt == 0) $('description').innerHTML = '';
    	else $('description').innerHTML = $(opt).innerHTML;
    }
</script>
<div id="or_merchant" class="d-none">
    <ul>
		<li>{% trans "Prix de vente des ressources augmenté de 10%" %}</li>
		<li>{% trans "La guilde marchande viendra plus vite sur vos planètes lors de vos achats" %}</li>
		<li>{% trans "La production de minerai et d'hydrocarbure est augmentée de 5%" %}</li>
		<li>{% trans "La demande en minerai et en hydrocarbure sur les planètes est augmentée de 10%" %}</li>
		<li>{% trans "Le coût d'entretien de vos planètes est diminué de 10%" %}</li>
		<li>{% trans "Les points de prestige gagnés par les bâtiments augmentés de 5%" %}</li>
		<li>{% trans "Vous aurez accès à un vaisseau de transport supérieur aux vaisseaux de transport classiques" %}</li>
    </ul>
</div>
<div id="or_soldier" class="d-none">
    <ul>
		<li>{% trans "Prime sur les fossoyeurs détruits augmentée de 15%" %}</li>
		<li>{% trans "Vitesse de construction des vaisseaux augmentée de 20%" %}</li>
		<li>{% trans "Les boucliers de vos vaisseaux sont augmentés de 10%" %}</li>
		<li>{% trans "La manoeuvrabilité de vos vaisseaux est augmentée de 10%" %}</li>
		<li>{% trans "Le coût d'entretien de vos soldats est diminué de 10%" %}</li>
		<li>{% trans "Les salaires de vos commandants sont diminués de 10%" %}</li>
		<li>{% trans "Les points de prestige gagnés lors des combats sont augmentés de 5%" %}</li>
		<li>{% trans "Votre premier commandant (vous) est spécialisé dans les combats spatiaux" %}</li>
    </ul>
</div>
<div id="or_scientist" class="d-none">
    <ul>
		<li>{% trans "Vitesse de construction des bâtiments augmentée de 10%" %}</li>
		<li>{% trans "Le coût des recherches est diminué de 20%" %}</li>
		<li>{% trans "Le temps des recherches est diminué de 5%" %}</li>
		<li>{% trans "Le coût d'entretien de vos scientifiques est diminué de 20%" %}</li>
		<li>{% trans "Vos vaisseaux se déplacent 20% plus vite" %}</li>
		<li>{% trans "Vos centrales produisent 20% d'énergie en plus" %}</li>
		<li>{% trans "Les points de prestige gagnés par les bâtiments sont augmentés de 3%" %}</li>
		<li>{% trans "Les points de prestige gagnés lors des combats sont augmentés de 3%" %}</li>
		<li>{% trans "Vous aurez accès à une technologie permettant la construction de vaisseaux de déploiement qui pourront installer instantanément des bâtiments sur vos planètes ou les planètes de vos alliés" %}</li>
    </ul>
</div>
<div id="page" class="ml-0">
    <div id="page-content">
        <div class="d-flex align-items-center justify-content-center py-3">
            <img src="/static/logo.png"/>
            <span class="c-normal mx-3">ng03</span>
        </div>
        {% include 'game/_messages.html' %}
        <div class="box">
            <div class="box-header">
                <div class="box-item text-center"><b class="c-highlight">{% trans "Démarrage" %}</b></div>
            </div>
            <form method="post">
                {% csrf_token%}
                <input type="hidden" name="action" value="start">
                <div class="box-line">
                    <div class="box-item text-center">
                        <p class="c-self bold">{{ user.username }}</p>
                        <p class="c-normal">{% trans "Bienvenue dans ExileNG, avant de commencer, veuillez entrer un nom pour votre nation. Ce sera le nom sous lequel vous jouerez dans le jeu, choisissez un nom différent de votre compte." %}</p>
                        <p class="c-highlight">
                            <span class="mr-2">{% trans "Nom de nation" %}</span>
                            <input type="text" class="control" name="name" value="{{ user.username }}"/>
                        </p>
                    </div>
                </div>
                <div class="box-line">
                    <div class="box-item text-center">
                        <p class="c-highlight">
                            <span class="mr-2">{% trans "Galaxie de départ" %}</span>
                            <select class="control" name="galaxy_id" id="galaxy_id" onchange="showRecommendation(this);">
                                {% for galaxy in galaxies %}<option value="{{ galaxy.id }}">{{ galaxy.id }}</option>{% endfor %}
                            </select>
                        </p>
                        <span id="recommendation"></span>
                    </div>
                </div>
                <div class="box-line">
                    <div class="box-item text-center">
                        <p class="c-normal">
                            {% trans "Désormais, vous devez choisir l'orientation de votre nation, ce choix aura pour conséquence de vous attribuer des bonus de départ que vous garderez tout le long du jeu." %}<br/>
                            {% trans "Il n'est pas possible d'en changer en cours de route alors choisissez bien suivant le style de jeu que vous préférez." %}<br/>
                            {% trans "Quelque soit l'orientation choisie, vous jouerez au même jeu mais avec des avantages différents." %}
                        </p>
                        <p class="c-highlight">
                            <span class="mr-2">{% trans "Orientation" %}</span>
                            <select class="control" name="orientation" id="orientation" onchange="displayOrientation(this);">
                                <option value="0">{% trans "Choisissez" %}</option>
                                {% for orientation in orientations %}<option value="{{ orientation.id }}">{% trans orientation.label %}</option>{% endfor %}
                            </select>
                        </p>
                        <p id="description" class="text-left"></p>
                    </div>
                </div>
                <div class="box-line">
                    <div class="box-item text-center">
                        <input type="submit" class="button" value="{% trans 'Valider' %}">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script>showRecommendation($('galaxy_id'));</script>
{% endblock %}